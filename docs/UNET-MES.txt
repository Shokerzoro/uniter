UNET-MES протокол обмена данными клиент ↔ сервер : пошаговый, текстово-бинарный протокол для дифференцированной передачи файлов и мета-обновлений.

Со стороны клиента

1. Отправка клиентом "PROTOCOL:UNET-MES"
   Получение "PROTOCOL:UNET-MES"

2. Отправка клиентом "VERSION:%version%"
   Получение от сервера "PROTOCOL:SOMEUPDATE" / "PROTOCOL:NOUPDATE"
   При получении "PROTOCOL:NOUPDATE" отправляем в ответ "PROTOCOL:COMPLETE"

3. В первом случае отправка "PROTOCOL:AGREE" либо "PROTOCOL:REJECT" (опционально)
   Получение "VERSION:%version%" в первом случае

4. Получение от сервера указаний "NEWFILE:%value%", "NEWDIR:%value%", "DELFILE:%value%", "DELDIR:%value%"

4.1. При отправке сервером "NEWFILE:%value%", он ожидает "NEWFILE:HASH" либо "NEWFILE:AGREE".
   В первом случае он отправляет хэш и ожидает в ответ "NEWFILE:AGREE" / "NEWFILE:REJECT"

4.2. После окончания загрузки файла клиент должен отправить подтверждение "NEWFILE:COMPLETE"
   (вообще в версии с UMConnector с выставленным auto_sym_afer_bin это стало не совсем обязательно, но ладно)

5. Получение от сервера "PROTOCOL:COMPLETE" в знак завершения
   Отправка клиентом в ответ "PROTOCOL:COMPLETE", только после чего сервер закрывает соединение.

Перед любым хэдером высылаются 2 байта с кодирующие размер строки
Перед body файла 4 байта кодирующие размер файла (макс. размер файла 512 Мбайт)
